!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.ahooksUseUrlState=t(require("React")):e.ahooksUseUrlState=t(e.React)}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(t,r){t.exports=e},function(e,t,r){"use strict";const n=r(2),a=r(3),o=r(4),i=r(5);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e,t){return t.decode?a(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const a="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!a&&u(r,e).includes(e.arrayFormatSeparator);r=o?u(r,e):r;const i=a||o?r.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===r?r:u(r,e);n[t]=i};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){if(""===a)continue;let[e,i]=o(t.decode?a.replace(/\+/g," "):a,"=");i=void 0===i?null:["comma","separator"].includes(t.arrayFormat)?i:u(i,t),r(u(e,t),i,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=f(r[e],t);else n[e]=f(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=d,t.parse=h,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[",a,"]"].join("")]:[...r,[l(t,e),"[",l(a,e),"]=",l(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[]"].join("")]:[...r,[l(t,e),"[]=",l(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[l(t,e),"=",l(n,e)].join("")]:[[r,l(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,l(t,e)]:[...r,[l(t,e),"=",l(n,e)].join("")]}}(t),a={};for(const t of Object.keys(e))r(t)||(a[t]=e[t]);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{const a=e[r];return void 0===a?"":null===a?l(r,t):Array.isArray(a)?a.reduce(n(r),[]).join("&"):l(r,t)+"="+l(a,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:h(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=c(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),i=Object.assign(o,e.query);let s=t.stringify(i,r);s&&(s="?"+s);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u="#"+l(e.fragmentIdentifier,r)),`${n}${s}${u}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:a,query:o,fragmentIdentifier:s}=t.parseUrl(e,n);return t.stringifyUrl({url:a,query:i(o,r),fragmentIdentifier:s},n)},t.exclude=(e,r,n)=>{const a=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,a,n)}},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function i(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="ï¿½";for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),o=0;o<n.length;o++){var i=n[o],s=e[i];(a?-1!==t.indexOf(i):t(i,s,e))&&(r[i]=s)}return r}},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"AbortedDeferredError",(function(){return F})),r.d(n,"NavigationType",(function(){return i})),r.d(n,"createPath",(function(){return h})),r.d(n,"defer",(function(){return L})),r.d(n,"generatePath",(function(){return x})),r.d(n,"isRouteErrorResponse",(function(){return $})),r.d(n,"json",(function(){return N})),r.d(n,"matchPath",(function(){return j})),r.d(n,"matchRoutes",(function(){return v})),r.d(n,"parsePath",(function(){return p})),r.d(n,"redirect",(function(){return I})),r.d(n,"resolvePath",(function(){return C})),r.d(n,"Await",(function(){return gt})),r.d(n,"MemoryRouter",(function(){return ct})),r.d(n,"Navigate",(function(){return dt})),r.d(n,"Outlet",(function(){return ft})),r.d(n,"Route",(function(){return ht})),r.d(n,"Router",(function(){return pt})),r.d(n,"RouterProvider",(function(){return ut})),r.d(n,"Routes",(function(){return mt})),r.d(n,"UNSAFE_DataRouterContext",(function(){return Ce})),r.d(n,"UNSAFE_DataRouterStateContext",(function(){return Se})),r.d(n,"UNSAFE_DataStaticRouterContext",(function(){return Oe})),r.d(n,"UNSAFE_LocationContext",(function(){return Me})),r.d(n,"UNSAFE_NavigationContext",(function(){return Ae})),r.d(n,"UNSAFE_RouteContext",(function(){return Ue})),r.d(n,"UNSAFE_enhanceManualRouteObjects",(function(){return jt})),r.d(n,"createMemoryRouter",(function(){return Rt})),r.d(n,"createRoutesFromChildren",(function(){return Et})),r.d(n,"createRoutesFromElements",(function(){return Et})),r.d(n,"renderMatches",(function(){return xt})),r.d(n,"useActionData",(function(){return ot})),r.d(n,"useAsyncError",(function(){return lt})),r.d(n,"useAsyncValue",(function(){return st})),r.d(n,"useHref",(function(){return Ne})),r.d(n,"useInRouterContext",(function(){return Fe})),r.d(n,"useLoaderData",(function(){return nt})),r.d(n,"useLocation",(function(){return Te})),r.d(n,"useMatch",(function(){return Le})),r.d(n,"useMatches",(function(){return rt})),r.d(n,"useNavigate",(function(){return Be})),r.d(n,"useNavigation",(function(){return et})),r.d(n,"useNavigationType",(function(){return _e})),r.d(n,"useOutlet",(function(){return He})),r.d(n,"useOutletContext",(function(){return We})),r.d(n,"useParams",(function(){return qe})),r.d(n,"useResolvedPath",(function(){return ze})),r.d(n,"useRevalidator",(function(){return tt})),r.d(n,"useRouteError",(function(){return it})),r.d(n,"useRouteLoaderData",(function(){return at})),r.d(n,"useRoutes",(function(){return Je}));var a=r(0);var o=()=>{const[,e]=Object(a.useState)({});return Object(a.useCallback)(()=>e({}),[])};var i,s=function(e){const t=Object(a.useRef)(e);t.current=Object(a.useMemo)(()=>e,[e]);const r=Object(a.useRef)();return r.current||(r.current=function(...e){return t.current.apply(this,e)}),r.current},l=r(1);
/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));function c(e){void 0===e&&(e={});let t,{initialEntries:r=["/"],initialIndex:n,v5Compat:a=!1}=e;t=r.map((e,t)=>p(e,"string"==typeof e?null:e.state,0===t?"default":void 0));let o=u(null==n?t.length-1:n),s=i.Pop,l=null;function u(e){return Math.min(Math.max(e,0),t.length-1)}function c(){return t[o]}function p(e,r,n){void 0===r&&(r=null);let a=f(t?c().pathname:"/",e,r,n);return d("/"===a.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),a}return{get index(){return o},get action(){return s},get location(){return c()},createHref:e=>"string"==typeof e?e:h(e),push(e,r){s=i.Push;let n=p(e,r);o+=1,t.splice(o,t.length,n),a&&l&&l({action:s,location:n})},replace(e,r){s=i.Replace;let n=p(e,r);t[o]=n,a&&l&&l({action:s,location:n})},go(e){s=i.Pop,o=u(o+e),l&&l({action:s,location:c()})},listen:e=>(l=e,()=>{l=null})}}function d(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function f(e,t,r,n){return void 0===r&&(r=null),u({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?p(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var m;function g(e,t,r){return void 0===t&&(t=[]),void 0===r&&(r=new Set),e.map((e,n)=>{let a=[...t,n],o="string"==typeof e.id?e.id:a.join("-");if(D(!0!==e.index||!e.children,"Cannot specify children on an index route"),D(!r.has(o),'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),r.add(o),function(e){return!0===e.index}(e)){return u({},e,{id:o})}return u({},e,{id:o,children:e.children?g(e.children,a,r):void 0})})}function v(e,t,r){void 0===r&&(r="/");let n=R(("string"==typeof t?p(t):t).pathname||"/",r);if(null==n)return null;let a=function e(t,r,n,a){void 0===r&&(r=[]);void 0===n&&(n=[]);void 0===a&&(a="");return t.forEach((t,o)=>{let i={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};i.relativePath.startsWith("/")&&(D(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let s=A([a,i.relativePath]),l=n.concat(i);t.children&&t.children.length>0&&(D(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),e(t.children,r,l,s)),(null!=t.path||t.index)&&r.push({path:s,score:w(s,t.index),routesMeta:l})}),r}(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e)o=E(a[e],n);return o}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));const y=/^:\w+$/,b=e=>"*"===e;function w(e,t){let r=e.split("/"),n=r.length;return r.some(b)&&(n+=-2),t&&(n+=2),r.filter(e=>!b(e)).reduce((e,t)=>e+(y.test(t)?3:""===t?1:10),n)}function E(e,t){let{routesMeta:r}=e,n={},a="/",o=[];for(let e=0;e<r.length;++e){let i=r[e],s=e===r.length-1,l="/"===a?t:t.slice(a.length)||"/",u=j({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},l);if(!u)return null;Object.assign(n,u.params);let c=i.route;o.push({params:n,pathname:A([a,u.pathname]),pathnameBase:M(A([a,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(a=A([a,u.pathnameBase]))}return o}function x(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(e,r)=>(D(null!=t[r],'Missing ":'+r+'" param'),t[r])).replace(/(\/?)\*/,(e,r,n,a)=>null==t["*"]?"/*"===a?"/":"":""+r+t["*"])}function j(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(e,t)=>(n.push(t),"([^\\/]+)"));e.endsWith("*")?(n.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");return[new RegExp(a,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((e,t,r)=>{if("*"===t){let e=s[r]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(r){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),e}}(s[r]||"",t),e},{}),pathname:o,pathnameBase:i,pattern:e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function D(e,t){if(!1===e||null==e)throw new Error(t)}function O(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function C(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"==typeof e?p(e):e;return{pathname:r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t,search:U(n),hash:k(a)}}function S(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e,t,r,n){let a;void 0===n&&(n=!1),"string"==typeof e?a=p(e):(a=u({},e),D(!a.pathname||!a.pathname.includes("?"),S("?","pathname","search",a)),D(!a.pathname||!a.pathname.includes("#"),S("#","pathname","hash",a)),D(!a.search||!a.search.includes("#"),S("#","search","hash",a)));let o,i=""===e||""===a.pathname,s=i?"/":a.pathname;if(n||null==s)o=r;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=C(a,o),c=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const A=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",k=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",N=function(e,t){void 0===t&&(t={});let r="number"==typeof t?{status:t}:t,n=new Headers(r.headers);return n.has("Content-Type")||n.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),u({},r,{headers:n}))};class F extends Error{}class T{constructor(e){let t;this.pendingKeys=new Set,this.subscriber=void 0,D(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise((e,r)=>t=r),this.controller=new AbortController;let r=()=>t(new F("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((e,t)=>{let[r,n]=t;return Object.assign(e,{[r]:this.trackPromise(r,n)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let r=Promise.race([t,this.abortPromise]).then(t=>this.onSettle(r,e,null,t),t=>this.onSettle(r,e,t));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,n){if(this.controller.signal.aborted&&r instanceof F)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const a=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),a&&a(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>n}),a&&a(!1),n)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((e,t)=>this.pendingKeys.delete(t));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(t=>{this.subscribe(n=>{e.removeEventListener("abort",r),(n||this.done)&&t(n)})})}return t}get done(){return 0===this.pendingKeys.size}get unwrappedData(){return D(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,n]=t;return Object.assign(e,{[r]:_(n)})},{})}}function _(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}function L(e){return new T(e)}const I=function(e,t){void 0===t&&(t=302);let r=t;"number"==typeof r?r={status:r}:void 0===r.status&&(r.status=302);let n=new Headers(r.headers);return n.set("Location",e),new Response(null,u({},r,{headers:n}))};class B{constructor(e,t,r){this.status=e,this.statusText=t||"",this.data=r}}function $(e){return e instanceof B}const W={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},H={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};function q(e){D(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=g(e.routes),r=null,n=new Set,a=null,o=null,s=null,l=!1,c=v(t,e.history.location,e.basename),d=null;if(null==c){let{matches:e,route:r,error:n}=ae(t);c=e,d={[r.id]:n}}let h,p,m=!c.some(e=>e.route.loader)||null!=e.hydrationData,y={historyAction:e.history.action,location:e.history.location,matches:c,initialized:m,navigation:W,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||d,fetchers:new Map},b=i.Pop,w=!1,E=!1,x=!1,j=[],R=[],O=new Map,C=0,S=-1,P=new Map,A=new Set,M=new Map,U=new Map;function k(e){y=u({},y,e),n.forEach(e=>e(y))}function N(t,r){var n;k(u({},null!=y.actionData&&null!=y.navigation.formMethod&&"loading"===y.navigation.state&&(null==(n=y.navigation.formAction)?void 0:n.split("?")[0])===t.pathname?{}:{actionData:null},r,r.loaderData?{loaderData:re(y.loaderData,r.loaderData,r.matches||[])}:{},{historyAction:b,location:t,initialized:!0,navigation:W,revalidation:"idle",restoreScrollPosition:!y.navigation.formData&&ee(t,r.matches||y.matches),preventScrollReset:w})),E||b===i.Pop||(b===i.Push?e.history.push(t,t.state):b===i.Replace&&e.history.replace(t,t.state)),b=i.Pop,w=!1,E=!1,x=!1,j=[],R=[]}async function F(r,n,l){p&&p.abort(),p=null,b=r,E=!0===(l&&l.startUninterruptedRevalidation),function(e,t){if(a&&o&&s){let r=t.map(e=>pe(e,y.loaderData)),n=o(e,r)||e.key;a[n]=s()}}(y.location,y.matches),w=!0===(l&&l.preventScrollReset);let c=l&&l.overrideNavigation,d=v(t,n,e.basename);if(!d){let{matches:e,route:r,error:a}=ae(t);return Z(),void N(n,{matches:e,loaderData:{},errors:{[r.id]:a}})}if(h=y.location,m=n,h.pathname===m.pathname&&h.search===m.search&&h.hash!==m.hash)return void N(n,{matches:d});var h,m;p=new AbortController;let g,P,F=Q(n,p.signal,l&&l.submission);if(l&&l.pendingError)P={[ne(d).route.id]:l.pendingError};else if(l&&l.submission){let e=await async function(e,t,r,n,a){let o;I(),k({navigation:u({state:"submitting",location:t},r)});let s=me(n,t);if(s.route.action){if(o=await G("action",e,s),e.signal.aborted)return{shortCircuited:!0}}else o=oe(t);if(ce(o)){let e=u({state:"loading",location:f(y.location,o.location)},r);return await _(o,e,a&&a.replace),{shortCircuited:!0}}if(ue(o)){let e=ne(n,s.route.id);return!0!==(a&&a.replace)&&(b=i.Push),{pendingActionError:{[e.route.id]:o.error}}}if(le(o))throw new Error("defer() is not supported in actions");return{pendingActionData:{[s.route.id]:o.data}}}(F,n,l.submission,d,{replace:l.replace});if(e.shortCircuited)return;g=e.pendingActionData,P=e.pendingActionError,c=u({state:"loading",location:n},l.submission)}let{shortCircuited:T,loaderData:B,errors:$}=await async function(e,t,r,n,a,o,i,s){let l=n;if(!l){l={state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0}}let[c,d]=Y(y,r,a,t,x,j,R,i,s,M);if(Z(e=>!(r&&r.some(t=>t.route.id===e))||c&&c.some(t=>t.route.id===e)),0===c.length&&0===d.length)return N(t,{matches:r,loaderData:re(y.loaderData,{},r),errors:s||null,actionData:i||null}),{shortCircuited:!0};E||(d.forEach(e=>{let[t]=e;const r=y.fetchers.get(t);let n={state:"loading",data:r&&r.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};y.fetchers.set(t,n)}),k(u({navigation:l,actionData:i||y.actionData||null},d.length>0?{fetchers:new Map(y.fetchers)}:{})));S=++C,d.forEach(e=>{let[t]=e;return O.set(t,p)});let{results:f,loaderResults:h,fetcherResults:m}=await L(y.matches,c,d,e);if(e.signal.aborted)return{shortCircuited:!0};d.forEach(e=>{let[t]=e;return O.delete(t)});let g=ie(f);if(g){let e=J(y,g);return await _(g,e,o),{shortCircuited:!0}}let{loaderData:v,errors:b}=te(y,r,c,h,s,d,m,U);U.forEach((e,t)=>{e.subscribe(r=>{(r||e.done)&&U.delete(t)})}),function(){let e=[];for(let t of A){let r=y.fetchers.get(t);D(r,"Expected fetcher: "+t),"loading"===r.state&&(A.delete(t),e.push(t))}V(e)}();let w=X(S);return u({loaderData:v,errors:b},w||d.length>0?{fetchers:new Map(y.fetchers)}:{})}(F,n,d,c,l&&l.submission,l&&l.replace,g,P);T||(p=null,N(n,{matches:d,loaderData:B,errors:$}))}function T(e){return y.fetchers.get(e)||H}async function _(e,t,r){e.revalidate&&(x=!0),D(t.location,"Expected a location on the redirect navigation"),p=null;let n=!0===r?i.Replace:i.Push;await F(n,t.location,{overrideNavigation:t})}async function L(e,t,r,n){let a=await Promise.all([...t.map(e=>G("loader",n,e)),...r.map(e=>{let[,t,r]=e;return G("loader",Q(t,n.signal),r)})]),o=a.slice(0,t.length),i=a.slice(t.length);return await Promise.all([de(e,t,o,n.signal,!1,y.loaderData),de(e,r.map(e=>{let[,,t]=e;return t}),i,n.signal,!0)]),{results:a,loaderResults:o,fetcherResults:i}}function I(){x=!0,j.push(...Z()),M.forEach((e,t)=>{O.has(t)&&(R.push(t),K(t))})}function $(e,t,r){let n=ne(y.matches,t);q(e),k({errors:{[n.route.id]:r},fetchers:new Map(y.fetchers)})}function q(e){O.has(e)&&K(e),M.delete(e),P.delete(e),A.delete(e),y.fetchers.delete(e)}function K(e){let t=O.get(e);D(t,"Expected fetch controller: "+e),t.abort(),O.delete(e)}function V(e){for(let t of e){let e={state:"idle",data:T(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};y.fetchers.set(t,e)}}function X(e){let t=[];for(let[r,n]of P)if(n<e){let e=y.fetchers.get(r);D(e,"Expected fetcher: "+r),"loading"===e.state&&(K(r),P.delete(r),t.push(r))}return V(t),t.length>0}function Z(e){let t=[];return U.forEach((r,n)=>{e&&!e(n)||(r.cancel(),t.push(n),U.delete(n))}),t}function ee(e,t){if(a&&o&&s){let r=t.map(e=>pe(e,y.loaderData)),n=o(e,r)||e.key,i=a[n];if("number"==typeof i)return i}return null}return h={get basename(){return e.basename},get state(){return y},get routes(){return t},initialize:function(){return r=e.history.listen(e=>{let{action:t,location:r}=e;return F(t,r)}),y.initialized||F(i.Pop,y.location),h},subscribe:function(e){return n.add(e),()=>n.delete(e)},enableScrollRestoration:function(e,t,r){if(a=e,s=t,o=r||(e=>e.key),!l&&y.navigation===W){l=!0;let e=ee(y.location,y.matches);null!=e&&k({restoreScrollPosition:e})}return()=>{a=null,s=null,o=null}},navigate:async function(t,r){if("number"==typeof t)return void e.history.go(t);let{path:n,submission:a,error:o}=z(t,r),s=f(y.location,n,r&&r.state),l=!0===(r&&r.replace)||null!=a?i.Replace:i.Push,u=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0;return await F(l,s,{submission:a,pendingError:o,preventScrollReset:u,replace:r&&r.replace})},fetch:function(r,n,a,o){if("undefined"==typeof AbortController)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(r)&&K(r);let i=v(t,a,e.basename);if(!i)return void $(r,n,new B(404,"Not Found",null));let{path:s,submission:l}=z(a,o,!0),c=me(i,s);l?async function(r,n,a,o,i){if(I(),M.delete(r),!o.route.action){let{error:e}=oe(a);return void $(r,n,e)}let s=y.fetchers.get(r),l=u({state:"submitting"},i,{data:s&&s.data});y.fetchers.set(r,l),k({fetchers:new Map(y.fetchers)});let c=new AbortController,d=Q(a,c.signal,i);O.set(r,c);let h=await G("action",d,o);if(d.signal.aborted)return void(O.get(r)===c&&O.delete(r));if(ce(h)){O.delete(r),A.add(r);let e=u({state:"loading"},i,{data:void 0});y.fetchers.set(r,e),k({fetchers:new Map(y.fetchers)});let t=u({state:"loading",location:f(y.location,h.location)},i);return void await _(h,t)}if(ue(h))return void $(r,n,h.error);le(h)&&D(!1,"defer() is not supported in actions");let m=y.navigation.location||y.location,g=Q(m,c.signal),w="idle"!==y.navigation.state?v(t,y.navigation.location,e.basename):y.matches;D(w,"Didn't find any matches after fetcher action");let E=++C;P.set(r,E);let F=u({state:"loading",data:h.data},i);y.fetchers.set(r,F);let[T,B]=Y(y,w,i,m,x,j,R,{[o.route.id]:h.data},void 0,M);B.filter(e=>{let[t]=e;return t!==r}).forEach(e=>{let[t]=e,r=y.fetchers.get(t),n={state:"loading",data:r&&r.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};y.fetchers.set(t,n),O.set(t,c)}),k({fetchers:new Map(y.fetchers)});let{results:W,loaderResults:H,fetcherResults:q}=await L(y.matches,T,B,g);if(c.signal.aborted)return;P.delete(r),O.delete(r),B.forEach(e=>{let[t]=e;return O.delete(t)});let z=ie(W);if(z){let e=J(y,z);return void await _(z,e)}let{loaderData:K,errors:V}=te(y,y.matches,T,H,void 0,B,q,U),Z={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};y.fetchers.set(r,Z);let ee=X(E);"loading"===y.navigation.state&&E>S?(D(b,"Expected pending action"),p&&p.abort(),N(y.navigation.location,{matches:w,loaderData:K,errors:V,fetchers:new Map(y.fetchers)})):(k(u({errors:V,loaderData:re(y.loaderData,K,w)},ee?{fetchers:new Map(y.fetchers)}:{})),x=!1)}(r,n,s,c,l):(M.set(r,[s,c]),async function(e,t,r,n){let a=y.fetchers.get(e),o={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:a&&a.data};y.fetchers.set(e,o),k({fetchers:new Map(y.fetchers)});let i=new AbortController,s=Q(r,i.signal);O.set(e,i);let l=await G("loader",s,n);le(l)&&(l=await fe(l,s.signal,!0)||l);O.get(e)===i&&O.delete(e);if(s.signal.aborted)return;if(ce(l)){let e=J(y,l);return void await _(l,e)}if(ue(l)){let r=ne(y.matches,t);return y.fetchers.delete(e),void k({fetchers:new Map(y.fetchers),errors:{[r.route.id]:l.error}})}D(!le(l),"Unhandled fetcher deferred data");let u={state:"idle",data:l.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};y.fetchers.set(e,u),k({fetchers:new Map(y.fetchers)})}(r,n,s,c))},revalidate:function(){I(),k({revalidation:"loading"}),"submitting"!==y.navigation.state&&("idle"!==y.navigation.state?F(b||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation}):F(y.historyAction,y.location,{startUninterruptedRevalidation:!0}))},createHref:se,getFetcher:T,deleteFetcher:q,dispose:function(){r&&r(),n.clear(),p&&p.abort(),y.fetchers.forEach((e,t)=>q(t))},_internalFetchControllers:O,_internalActiveDeferreds:U},h}function z(e,t,r){void 0===r&&(r=!1);let n="string"==typeof e?e:h(e);if(!t||!("formMethod"in t)&&!("formData"in t))return{path:n};if(null!=t.formMethod&&"get"!==t.formMethod)return{path:n,submission:{formMethod:t.formMethod,formAction:se(p(n)),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}};if(!t.formData)return{path:n};let a=p(n);try{let e=Z(t.formData);r&&a.search&&he(a.search)&&e.append("index",""),a.search="?"+e}catch(e){return{path:n,error:new B(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:h(a)}}function J(e,t){let{formMethod:r,formAction:n,formEncType:a,formData:o}=e.navigation;return{state:"loading",location:f(e.location,t.location),formMethod:r||void 0,formAction:n||void 0,formEncType:a||void 0,formData:o||void 0}}function K(e,t){let r=e;if(t){let n=e.findIndex(e=>e.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Y(e,t,r,n,a,o,i,s,l,u){let c=l?Object.values(l)[0]:s?Object.values(s)[0]:null,d=K(t,l?Object.keys(l)[0]:void 0).filter((t,i)=>null!=t.route.loader&&(function(e,t,r){let n=!t||r.route.id!==t.route.id,a=void 0===e[r.route.id];return n||a}(e.loaderData,e.matches[i],t)||o.some(e=>e===t.route.id)||X(e.location,e.matches[i],r,n,t,a,c))),f=[];return u&&u.forEach((e,t)=>{let[n,o]=e;if(i.includes(t))f.push([t,n,o]);else if(a){X(n,o,r,n,o,a,c)&&f.push([t,n,o])}}),[d,f]}function V(e,t){let r=e.route.path;return e.pathname!==t.pathname||r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function X(e,t,r,n,a,o,i){let s=ge(e),l=t.params,c=ge(n),d=a.params,f=V(t,a)||s.toString()===c.toString()||s.search!==c.search||o;if(a.route.shouldRevalidate){let e=a.route.shouldRevalidate(u({currentUrl:s,currentParams:l,nextUrl:c,nextParams:d},r,{actionResult:i,defaultShouldRevalidate:f}));if("boolean"==typeof e)return e}return f}async function G(e,t,r,n,a){let o,i,s;void 0===n&&(n=!1),void 0===a&&(a=!1);let l=new Promise((e,t)=>s=t),u=()=>s();t.signal.addEventListener("abort",u);try{let n=r.route[e];D(n,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),i=await Promise.race([n({request:t,params:r.params}),l])}catch(e){o=m.error,i=e}finally{t.signal.removeEventListener("abort",u)}if(i instanceof Response){let e,t=i.status,r=i.headers.get("Location");if(a)throw i;if(t>=300&&t<=399&&null!=r){if(n)throw i;return{type:m.redirect,status:t,location:r,revalidate:null!==i.headers.get("X-Remix-Revalidate")}}let s=i.headers.get("Content-Type");return e=s&&s.startsWith("application/json")?await i.json():await i.text(),o===m.error?{type:o,error:new B(t,i.statusText,e),headers:i.headers}:{type:m.data,data:e,statusCode:i.status,headers:i.headers}}return o===m.error?{type:o,error:i}:i instanceof T?{type:m.deferred,deferredData:i}:{type:m.data,data:i}}function Q(e,t,r){let n=ge(e).toString(),a={signal:t};if(r){let{formMethod:e,formEncType:t,formData:n}=r;a.method=e.toUpperCase(),a.body="application/x-www-form-urlencoded"===t?Z(n):n}return new Request(n,a)}function Z(e){let t=new URLSearchParams;for(let[r,n]of e.entries())D("string"==typeof n,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(r,n);return t}function ee(e,t,r,n,a){let o,i={},s=null,l=!1,u={};return r.forEach((r,c)=>{let d=t[c].route.id;if(D(!ce(r),"Cannot handle redirect results in processLoaderData"),ue(r)){let t=ne(e,d),a=r.error;n&&(a=Object.values(n)[0],n=void 0),s=Object.assign(s||{},{[t.route.id]:a}),l||(l=!0,o=$(r.error)?r.error.status:500),r.headers&&(u[d]=r.headers)}else le(r)?(a&&a.set(d,r.deferredData),i[d]=r.deferredData.data):(i[d]=r.data,null==r.statusCode||200===r.statusCode||l||(o=r.statusCode),r.headers&&(u[d]=r.headers))}),n&&(s=n),{loaderData:i,errors:s,statusCode:o||200,loaderHeaders:u}}function te(e,t,r,n,a,o,i,s){let{loaderData:l,errors:c}=ee(t,r,n,a,s);for(let t=0;t<o.length;t++){let[r,,n]=o[t];D(void 0!==i&&void 0!==i[t],"Did not find corresponding fetcher result");let a=i[t];if(ue(a)){let t=ne(e.matches,n.route.id);c&&c[t.route.id]||(c=u({},c,{[t.route.id]:a.error})),e.fetchers.delete(r)}else{if(ce(a))throw new Error("Unhandled fetcher revalidation redirect");if(le(a))throw new Error("Unhandled fetcher deferred data");{let t={state:"idle",data:a.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};e.fetchers.set(r,t)}}}return{loaderData:l,errors:c}}function re(e,t,r){let n=u({},t);return r.forEach(r=>{let a=r.route.id;void 0===t[a]&&void 0!==e[a]&&(n[a]=e[a])}),n}function ne(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function ae(e){let t=e.find(e=>e.index||""===e.path||"/"===e.path)||{id:"__shim-404-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t,error:new B(404,"Not Found",null)}}function oe(e){let t="string"==typeof e?e:se(e);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for ["+t+"]"),{type:m.error,error:new B(405,"Method Not Allowed","No action found for ["+t+"]")}}function ie(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(ce(r))return r}}function se(e){return(e.pathname||"")+(e.search||"")}function le(e){return e.type===m.deferred}function ue(e){return e.type===m.error}function ce(e){return(e&&e.type)===m.redirect}async function de(e,t,r,n,a,o){for(let i=0;i<r.length;i++){let s=r[i],l=t[i],u=e.find(e=>e.route.id===l.route.id),c=null!=u&&!V(u,l)&&void 0!==(o&&o[l.route.id]);le(s)&&(a||c)&&await fe(s,n,a).then(e=>{e&&(r[i]=e||r[i])})}}async function fe(e,t,r){if(void 0===r&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:m.data,data:e.deferredData.unwrappedData}}catch(e){return{type:m.error,error:e}}return{type:m.data,data:e.deferredData.data}}}function he(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function pe(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function me(e,t){let r="string"==typeof t?p(t).search:t.search;return e[e.length-1].route.index&&!he(r||"")?e.slice(-2)[0]:e.slice(-1)[0]}function ge(e){let t="undefined"!=typeof window&&void 0!==window.location?window.location.origin:"unknown://unknown",r="string"==typeof e?e:se(e);return new URL(r,t)}
/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ve(){return(ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const ye="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:be,useEffect:we,useLayoutEffect:Ee,useDebugValue:xe}=a;function je(e){const t=e.getSnapshot,r=e.value;try{const e=t();return!ye(r,e)}catch(e){return!0}}const Re=!!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?function(e,t,r){return t()}:function(e,t,r){const n=t(),[{inst:a},o]=be({inst:{value:n,getSnapshot:t}});return Ee(()=>{a.value=n,a.getSnapshot=t,je(a)&&o({inst:a})},[e,n,t]),we(()=>{je(a)&&o({inst:a});return e(()=>{je(a)&&o({inst:a})})},[e]),xe(n),n},De="useSyncExternalStore"in a?(e=>e.useSyncExternalStore)(a):Re,Oe=a.createContext(null);const Ce=a.createContext(null);const Se=a.createContext(null);const Pe=a.createContext(null);const Ae=a.createContext(null);const Me=a.createContext(null);const Ue=a.createContext({outlet:null,matches:[]});const ke=a.createContext(null);function Ne(e,t){let{relative:r}=void 0===t?{}:t;Fe()||D(!1);let{basename:n,navigator:o}=a.useContext(Ae),{hash:i,pathname:s,search:l}=ze(e,{relative:r}),u=s;return"/"!==n&&(u="/"===s?n:A([n,s])),o.createHref({pathname:u,search:l,hash:i})}function Fe(){return null!=a.useContext(Me)}function Te(){return Fe()||D(!1),a.useContext(Me).location}function _e(){return a.useContext(Me).navigationType}function Le(e){Fe()||D(!1);let{pathname:t}=Te();return a.useMemo(()=>j(e,t),[t,e])}function Ie(e){return e.filter((t,r)=>0===r||!t.route.index&&t.pathnameBase!==e[r-1].pathnameBase)}function Be(){Fe()||D(!1);let{basename:e,navigator:t}=a.useContext(Ae),{matches:r}=a.useContext(Ue),{pathname:n}=Te(),o=JSON.stringify(Ie(r).map(e=>e.pathnameBase)),i=a.useRef(!1);return a.useEffect(()=>{i.current=!0}),a.useCallback((function(r,a){if(void 0===a&&(a={}),!i.current)return;if("number"==typeof r)return void t.go(r);let s=P(r,JSON.parse(o),n,"path"===a.relative);"/"!==e&&(s.pathname="/"===s.pathname?e:A([e,s.pathname])),(a.replace?t.replace:t.push)(s,a.state,a)}),[e,t,o,n])}const $e=a.createContext(null);function We(){return a.useContext($e)}function He(e){let t=a.useContext(Ue).outlet;return t?a.createElement($e.Provider,{value:e},t):t}function qe(){let{matches:e}=a.useContext(Ue),t=e[e.length-1];return t?t.params:{}}function ze(e,t){let{relative:r}=void 0===t?{}:t,{matches:n}=a.useContext(Ue),{pathname:o}=Te(),i=JSON.stringify(Ie(n).map(e=>e.pathnameBase));return a.useMemo(()=>P(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function Je(e,t){Fe()||D(!1);let r=a.useContext(Se),{matches:n}=a.useContext(Ue),o=n[n.length-1],s=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,c=Te();if(t){var d;let e="string"==typeof t?p(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||D(!1),u=e}else u=c;let f=u.pathname||"/",h=v(e,{pathname:"/"===l?f:f.slice(l.length)||"/"});let m=Xe(h&&h.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:A([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:A([l,e.pathnameBase])})),n,r||void 0);return t?a.createElement(Me.Provider,{value:{location:ve({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:i.Pop}},m):m}function Ke(){let e=it(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o={padding:"2px 4px",backgroundColor:"rgba(200,200,200, 0.5)"};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unhandled Thrown Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:n},r):null,a.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",a.createElement("code",{style:o},"errorElement")," props onÂ ",a.createElement("code",{style:o},"<Route>")))}class Ye extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(ke.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Ve(e){let{routeContext:t,match:r,children:n}=e,o=a.useContext(Oe);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),a.createElement(Ue.Provider,{value:t},n)}function Xe(e,t,r){if(void 0===t&&(t=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let n=e,o=null==r?void 0:r.errors;if(null!=o){let e=n.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id]));e>=0||D(!1),n=n.slice(0,Math.min(n.length,e+1))}return n.reduceRight((e,i,s)=>{let l=i.route.id?null==o?void 0:o[i.route.id]:null,u=r?i.route.errorElement||a.createElement(Ke,null):null,c=()=>a.createElement(Ve,{match:i,routeContext:{outlet:e,matches:t.concat(n.slice(0,s+1))}},l?u:void 0!==i.route.element?i.route.element:e);return r&&(i.route.errorElement||0===s)?a.createElement(Ye,{location:r.location,component:u,error:l,children:c()}):c()},null)}var Ge,Qe;function Ze(e){let t=a.useContext(Se);return t||D(!1),t}function et(){return Ze(Qe.UseNavigation).navigation}function tt(){let e=function(e){let t=a.useContext(Ce);return t||D(!1),t}(Ge.UseRevalidator),t=Ze(Qe.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function rt(){let{matches:e,loaderData:t}=Ze(Qe.UseMatches);return a.useMemo(()=>e.map(e=>{let{pathname:r,params:n}=e;return{id:e.route.id,pathname:r,params:n,data:t[e.route.id],handle:e.route.handle}}),[e,t])}function nt(){let e=Ze(Qe.UseLoaderData),t=a.useContext(Ue);t||D(!1);let r=t.matches[t.matches.length-1];return r.route.id||D(!1),e.loaderData[r.route.id]}function at(e){return Ze(Qe.UseRouteLoaderData).loaderData[e]}function ot(){let e=Ze(Qe.UseActionData);return a.useContext(Ue)||D(!1),Object.values((null==e?void 0:e.actionData)||{})[0]}function it(){var e;let t=a.useContext(ke),r=Ze(Qe.UseRouteError),n=a.useContext(Ue),o=n.matches[n.matches.length-1];return t||(n||D(!1),o.route.id||D(!1),null==(e=r.errors)?void 0:e[o.route.id])}function st(){let e=a.useContext(Pe);return null==e?void 0:e._data}function lt(){let e=a.useContext(Pe);return null==e?void 0:e._error}!function(e){e.UseRevalidator="useRevalidator"}(Ge||(Ge={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Qe||(Qe={}));function ut(e){let{fallbackElement:t,router:r}=e,n=De(r.subscribe,()=>r.state,()=>r.state),o=a.useMemo(()=>({createHref:r.createHref,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}),[r]),i=r.basename||"/";return a.createElement(Ce.Provider,{value:{router:r,navigator:o,static:!1,basename:i}},a.createElement(Se.Provider,{value:n},a.createElement(pt,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:o},r.state.initialized?a.createElement(mt,null):t)))}function ct(e){let{basename:t,children:r,initialEntries:n,initialIndex:o}=e,i=a.useRef();null==i.current&&(i.current=c({initialEntries:n,initialIndex:o,v5Compat:!0}));let s=i.current,[l,u]=a.useState({action:s.action,location:s.location});return a.useLayoutEffect(()=>s.listen(u),[s]),a.createElement(pt,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s})}function dt(e){let{to:t,replace:r,state:n,relative:o}=e;Fe()||D(!1);let i=a.useContext(Se),s=Be();return a.useEffect(()=>{i&&"idle"!==i.navigation.state||s(t,{replace:r,state:n,relative:o})}),null}function ft(e){return He(e.context)}function ht(e){D(!1)}function pt(e){let{basename:t="/",children:r=null,location:n,navigationType:o=i.Pop,navigator:s,static:l=!1}=e;Fe()&&D(!1);let u=t.replace(/^\/*/,"/"),c=a.useMemo(()=>({basename:u,navigator:s,static:l}),[u,s,l]);"string"==typeof n&&(n=p(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,v=a.useMemo(()=>{let e=R(d,u);return null==e?null:{pathname:e,search:f,hash:h,state:m,key:g}},[u,d,f,h,m,g]);return null==v?null:a.createElement(Ae.Provider,{value:c},a.createElement(Me.Provider,{children:r,value:{location:v,navigationType:o}}))}function mt(e){let{children:t,location:r}=e,n=a.useContext(Ce);return Je(n&&!t?n.router.routes:Et(t),r)}function gt(e){let{children:t,errorElement:r,resolve:n}=e;return a.createElement(bt,{resolve:n,errorElement:r},a.createElement(wt,null,t))}var vt;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(vt||(vt={}));const yt=new Promise(()=>{});class bt extends a.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:r}=this.props,n=null,o=vt.pending;if(r instanceof Promise)if(this.state.error){o=vt.error;let e=this.state.error;n=Promise.reject().catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),Object.defineProperty(n,"_error",{get:()=>e})}else r._tracked?(n=r,o=void 0!==n._error?vt.error:void 0!==n._data?vt.success:vt.pending):(o=vt.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),n=r.then(e=>Object.defineProperty(r,"_data",{get:()=>e}),e=>Object.defineProperty(r,"_error",{get:()=>e})));else o=vt.success,n=Promise.resolve(),Object.defineProperty(n,"_tracked",{get:()=>!0}),Object.defineProperty(n,"_data",{get:()=>r});if(o===vt.error&&n._error instanceof F)throw yt;if(o===vt.error&&!t)throw n._error;if(o===vt.error)return a.createElement(Pe.Provider,{value:n,children:t});if(o===vt.success)return a.createElement(Pe.Provider,{value:n,children:e});throw n}}function wt(e){let{children:t}=e,r=st();return"function"==typeof t?t(r):a.createElement(a.Fragment,null,t)}function Et(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;if(e.type===a.Fragment)return void r.push.apply(r,Et(e.props.children,t));e.type!==ht&&D(!1),e.props.index&&e.props.children&&D(!1);let o=[...t,n],i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(i.children=Et(e.props.children,o)),r.push(i)}),r}function xt(e){return Xe(e)}function jt(e){return e.map(e=>{let t=ve({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=jt(t.children)),t})}function Rt(e,t){return q({basename:null==t?void 0:t.basename,history:c({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:jt(e)}).initialize()}const Dt=n,Ot={parseNumbers:!1,parseBooleans:!1},Ct={skipNull:!1,skipEmptyString:!1};t.default=(e,t)=>{var r,n;const{navigateMode:i="push",parseOptions:u,stringifyOptions:c}=t||{},d=Object.assign(Object.assign({},Ot),u),f=Object.assign(Object.assign({},Ct),c),h=Dt.useLocation(),p=null===(r=Dt.useHistory)||void 0===r?void 0:r.call(Dt),m=null===(n=Dt.useNavigate)||void 0===n?void 0:n.call(Dt),g=o(),v=Object(a.useRef)("function"==typeof e?e():e||{}),y=Object(a.useMemo)(()=>Object(l.parse)(h.search,d),[h.search]),b=Object(a.useMemo)(()=>Object.assign(Object.assign({},v.current),y),[y]);return[b,s(e=>{const t="function"==typeof e?e(b):e;g(),p&&p[i]({hash:h.hash,search:Object(l.stringify)(Object.assign(Object.assign({},y),t),f)||"?"},h.state),m&&m({hash:h.hash,search:Object(l.stringify)(Object.assign(Object.assign({},y),t),f)||"?"},{replace:"replace"===i,state:h.state})})]}}])}));